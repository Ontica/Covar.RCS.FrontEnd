<navigation-header></navigation-header>

<projects-filter (onChangeFilter)="onFilterChanged($event)"
                 (onChangeView)="onViewChanged($event)">
</projects-filter>

<div class="explorer"
    [class.remove-min-width]="!displayEditor">

  <div [ngSwitch]="viewConfig.viewType"
       class="explorer-panel"
       [class.primary]="viewConfig.viewType !== 'gantt'"
       [class.primary-full]="viewConfig.viewType === 'gantt'">

    <activity-tree *ngSwitchCase="'activity-tree'"
                    [project]="selectedProject"
                    (activitySelected)="showEditor($event)">
    </activity-tree>

    <gantt *ngSwitchCase="'gantt'"
            [project]="selectedProject"
            [config]="viewConfig"
            [reset]="toggleEditor"
            (activitySelected)="showEditor($event)">
    </gantt>


  </div>

  <div *ngIf="displayEditor" class="explorer-panel secondary">
    <activity-editor [activity]="selectedActivity"
                     (update)="onActivityUpdated($event)"
                     (close)="onEditorClosed()">
    </activity-editor>
  </div>

</div>
